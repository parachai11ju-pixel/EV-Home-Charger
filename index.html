<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AI Quiz Master: EV Charger PBL</title>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;600;800&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#0f1020; --bg2:#1a1b2e; --acc:#7ee6d5; --pink:#ff8bd7; --yel:#ffe46b; --red:#ff6b6b; --green:#38ef7d; --glass: rgba(255,255,255,.08);
      --blur: blur(16px); --br: 22px; --shadow: 0 20px 40px rgba(0,0,0,.35);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0; font-family:'Sarabun',system-ui,-apple-system,Segoe UI,Roboto; color:#eef1f4;
      background: radial-gradient(1000px 600px at 15% 0%, #2d1b52 0%, transparent 60%),
                  radial-gradient(1200px 800px at 85% 100%, #0b3b4b 0%, transparent 60%),
                  linear-gradient(135deg,var(--bg1),var(--bg2));
      overflow-x:hidden;
    }
    .wrap{max-width:1100px;margin:0 auto;padding:24px}
    header{
      position:sticky; top:0; z-index:50; backdrop-filter:saturate(140%) blur(10px);
      background:linear-gradient(180deg, rgba(0,0,0,.45), rgba(0,0,0,.15)); border-bottom:1px solid rgba(255,255,255,.12);
    }
    .nav{display:flex; gap:10px; align-items:center; justify-content:space-between; padding:10px 0}
    .brand{display:flex;gap:12px;align-items:center}
    .logo{width:38px;height:38px;border-radius:12px;background:linear-gradient(135deg,var(--acc),var(--pink));box-shadow:0 10px 28px rgba(126,230,213,.35)}
    .brand h1{font-size:1.1rem;margin:0;font-weight:800;letter-spacing:.2px}
    .tabs{display:flex;gap:8px;flex-wrap:wrap}
    .tabbtn{padding:8px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.15);background:rgba(255,255,255,.06);color:#fff;cursor:pointer}
    .tabbtn.active{background:linear-gradient(135deg,rgba(126,230,213,.18),rgba(255,139,215,.18));border-color:rgba(255,255,255,.35)}

    .card{background:var(--glass); border:1px solid rgba(255,255,255,.12); border-radius:var(--br); box-shadow:var(--shadow);
      backdrop-filter: var(--blur); padding:20px}
    .grid{display:grid; gap:16px}
    .grid.cols2{grid-template-columns:1.2fr .8fr}
    @media(max-width:900px){.grid.cols2{grid-template-columns:1fr}}

    .pill{display:inline-flex;align-items:center;gap:8px;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.08);border:1px solid rgba(255,255,255,.12)}

    .cta{display:inline-flex;align-items:center;gap:8px;padding:12px 18px;border-radius:16px;border:1px solid rgba(255,255,255,.18);
      background:linear-gradient(135deg, rgba(126,230,213,.16), rgba(255,139,215,.16));color:white;font-weight:700;cursor:pointer}
    .cta:hover{transform:translateY(-1px)}
    .muted{opacity:.86}
    h2{margin:8px 0 10px}

    .hero{
      display:grid; gap:18px; grid-template-columns:1.2fr .8fr; align-items:stretch;
    }
    @media(max-width:980px){.hero{grid-template-columns:1fr}}
    .glassbig{min-height:220px;display:flex;flex-direction:column;justify-content:center}

    .seg{display:none}
    .seg.active{display:block}

    .row{display:flex;gap:10px;align-items:center;flex-wrap:wrap}
    select, input[type="number"], input[type="text"]{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.2);color:white;padding:10px;border-radius:12px}

    /* Quiz UI */
    .q-header{display:flex;align-items:center;gap:12px;justify-content:space-between;margin-bottom:10px}
    .progress{height:10px;background:rgba(255,255,255,.1);border-radius:999px;overflow:hidden}
    .bar{height:100%;width:0;background:linear-gradient(90deg,var(--acc),var(--yel));transition:width .3s ease}
    .timer{height:12px;background:rgba(255,255,255,.12); border-radius:999px; overflow:hidden}
    .tbar{height:100%;background:linear-gradient(90deg,var(--green),var(--yel),var(--red));transition:width .3s ease}

    .opt{display:flex;gap:12px;align-items:flex-start;padding:12px;border-radius:14px;border:1px solid rgba(255,255,255,.14);background:rgba(255,255,255,.05);cursor:pointer}
    .opt:hover{background:rgba(255,255,255,.09)}
    .opt.correct{border-color:rgba(80,255,171,.9); background:rgba(56,239,125,.12)}
    .opt.wrong{border-color:rgba(255,107,107,.9); background:rgba(255,107,107,.12)}

    .hintbox{display:flex;gap:8px;flex-wrap:wrap}
    .hintbtn{padding:8px 10px;border-radius:12px;border:1px dashed rgba(255,255,255,.35);background:rgba(255,255,255,.06);cursor:pointer}

    .explain{padding:12px;border-left:3px solid rgba(255,255,255,.25);background:rgba(255,255,255,.06);border-radius:12px}

    .badge{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:16px;background:linear-gradient(135deg,rgba(255,228,107,.16),rgba(255,139,215,.16));border:1px solid rgba(255,255,255,.15)}
    .stars{color:var(--yel);text-shadow:0 0 10px rgba(255,228,107,.45)}

    .footer{opacity:.7;font-size:.9rem;margin-top:30px}

    /* Confetti canvas */
    #confetti{position:fixed;inset:0;pointer-events:none}
  </style>
</head>
<body>
<canvas id="confetti"></canvas>
<header>
  <div class="wrap nav">
    <div class="brand">
      <div class="logo"></div>
      <h1>AI Quiz Master: ‡∏à‡∏±‡∏î‡∏•‡∏≥‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏á‡∏≤‡∏ô EV Charger ‚ö°üíñ</h1>
    </div>
    <div class="tabs">
      <button class="tabbtn active" data-tab="home">Home</button>
      <button class="tabbtn" data-tab="how">How to Play</button>
      <button class="tabbtn" data-tab="quiz">Quiz</button>
      <button class="tabbtn" data-tab="result">Result</button>
      <button class="tabbtn" data-tab="review">Review</button>
    </div>
  </div>
</header>

<main class="wrap">
  <!-- HOME -->
  <section id="home" class="seg active">
    <div class="hero">
      <div class="card glassbig">
        <div class="pill">‡πÇ‡∏°‡∏î: Wall Charger Mode 3 | ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô MEA/IEC/IEEE | ‡πÇ‡∏ó‡∏ô beloved</div>
        <h2>‡∏™‡∏ß‡∏±‡∏™‡∏î‡∏µ‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏ï‡∏±‡∏ß‡∏ô‡πâ‡∏≠‡∏¢ üåü ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏õ‡πá‡∏ô <span style="color:var(--acc)">AI Quiz Master</span> ‡∏Å‡∏±‡∏ô‡πÑ‡∏´‡∏°?</h2>
        <p class="muted">‡πÄ‡∏Å‡∏°‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ù‡∏∂‡∏Å <b>PBL</b> + <b>Model 5 ‡∏Ç‡∏±‡πâ‡∏ô</b> ‡∏î‡πâ‡∏ß‡∏¢‡∏™‡∏ñ‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á‡∏á‡∏≤‡∏ô‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ <b>EVSE</b> (‡πÇ‡∏´‡∏°‡∏î 3) ‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô <b>MEA/IEC/IEEE</b> ‡πÄ‡∏ô‡πâ‡∏ô‡∏Ñ‡∏¥‡∏î‡πÄ‡∏õ‡πá‡∏ô‡∏•‡∏≥‡∏î‡∏±‡∏ö <i>What/Why/How</i> ‡∏à‡∏ô‡∏ñ‡∏∂‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏°‡∏∑‡∏≠‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ üíö</p>
        <div class="row" style="margin-top:8px">
          <label class="pill">‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å
            <select id="difficulty" style="margin-left:8px">
              <option>Mix</option>
              <option>Easy</option>
              <option>Medium</option>
              <option>Hard</option>
            </select>
          </label>
          <button class="cta" id="startBtn">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô 10 ‡∏Ç‡πâ‡∏≠ üöÄ</button>
        </div>
        <div class="row" style="margin-top:10px">
          <span class="pill">‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b id="playedCount">0</b> ‡∏£‡∏≠‡∏ö</span>
          <span class="pill">Best Score: <b id="bestScore">0</b></span>
        </div>
      </div>
      <div class="card">
        <h3>‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÑ‡∏î‡πâ‡∏ù‡∏∂‡∏Å‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á</h3>
        <ul>
          <li>‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏à‡∏£‡∏¥‡∏á‡∏Ç‡∏≠‡∏á EVSE (‡∏°‡∏µ Power Factor ‡πÉ‡∏ô‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏™‡∏°‡∏≠)</li>
          <li>‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏™‡∏≤‡∏¢ <b>IEC 01 (THW)</b> ‡πÅ‡∏ö‡∏ö <b>‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á</b> ‡∏î‡πâ‡∏ß‡∏¢‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì 1.25x</li>
          <li>‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <b>RCD Type B</b> ‡πÅ‡∏•‡∏∞‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£ <b>RDC-DD</b></li>
          <li>Earthing: <b>TT / TN-S / TN-C-S</b> ‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á/‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç</li>
          <li>‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î MEA/IEC ‡∏ó‡∏µ‡πà‡∏ô‡∏±‡∏Å‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏π‡πâ ‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢, ‡∏£‡∏∞‡∏¢‡∏∞‡∏™‡∏π‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏£‡∏±‡∏ö, ‡∏Å‡∏≤‡∏£‡πÅ‡∏¢‡∏Å‡∏ß‡∏á‡∏à‡∏£</li>
        </ul>
        <p class="muted">‡∏õ‡∏•. ‡∏°‡∏µ‡∏î‡∏ô‡∏ï‡∏£‡∏µ‡πÄ‡∏£‡πâ‡∏≤‡πÉ‡∏à‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î ‚è±Ô∏è + ‡∏™‡∏±‡πà‡∏ô‡∏ô‡∏¥‡∏î‡πÜ ‡πÉ‡∏´‡πâ‡∏´‡∏±‡∏ß‡πÉ‡∏à‡πÄ‡∏ï‡πâ‡∏ô‡∏ï‡∏≤‡∏° üíì</p>
      </div>
    </div>
  </section>

  <!-- HOW TO PLAY -->
  <section id="how" class="seg">
    <div class="card grid cols2">
      <div>
        <h2>‡∏ß‡∏¥‡∏ò‡∏µ‡πÄ‡∏•‡πà‡∏ô‡πÅ‡∏ö‡∏ö‡∏™‡∏±‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏´‡∏ß‡∏≤‡∏ô üíù</h2>
        <ol>
          <li>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å <b>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏Å</b> ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡πÄ‡∏£‡∏¥‡πà‡∏°</li>
          <li>‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏°‡∏µ‡πÄ‡∏ß‡∏•‡∏≤ <b>45 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ</b> ‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà <b>1000</b> ‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏•‡∏á‡∏ï‡∏≤‡∏°‡πÄ‡∏ß‡∏•‡∏≤</li>
          <li>‡∏Å‡∏î <b>Hint</b> ‡πÑ‡∏î‡πâ 2 ‡∏£‡∏∞‡∏î‡∏±‡∏ö (‡∏´‡∏±‡∏Å‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)</li>
          <li>‡∏ï‡∏≠‡∏ö‡∏õ‡∏∏‡πä‡∏ö‡∏£‡∏π‡πâ‡∏ú‡∏• ‡∏û‡∏£‡πâ‡∏≠‡∏° <b>‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å</b> + ‚Äú‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î‚Äù ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏∞‡∏ó‡πâ‡∏≠‡∏ô‡∏Ñ‡∏¥‡∏î</li>
          <li>‡∏à‡∏ö‡∏£‡∏≠‡∏ö 10 ‡∏Ç‡πâ‡∏≠ ‡∏î‡∏π <b>Badge</b> ‡∏î‡∏≤‡∏ß ‡πÅ‡∏•‡∏∞ <b>Review</b> ‡∏£‡∏≤‡∏¢‡∏Ç‡πâ‡∏≠</li>
        </ol>
        <p class="muted">‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì (Best Score / ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡∏µ‡πà‡∏£‡∏≠‡∏ö) ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏ô LocalStorage üíæ</p>
      </div>
      <div>
        <h3>‡πÇ‡∏Ñ‡∏£‡∏á PBL + Model 5 ‡∏Ç‡∏±‡πâ‡∏ô (‡∏¢‡πà‡∏≠)</h3>
        <ul>
          <li><b>‡∏£‡∏π‡πâ</b>: ‡∏≠‡πà‡∏≤‡∏ô‡πÇ‡∏à‡∏ó‡∏¢‡πå ‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô</li>
          <li><b>‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏à</b>: ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå Why/How ‡πÅ‡∏•‡∏∞‡∏Ç‡πâ‡∏≠‡∏à‡∏≥‡∏Å‡∏±‡∏î</li>
          <li><b>‡∏ô‡∏≥‡πÑ‡∏õ‡πÉ‡∏ä‡πâ</b>: ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢/‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå/‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå</li>
          <li><b>‡∏ù‡∏∂‡∏Å‡∏ù‡∏ô</b>: ‡πÄ‡∏•‡πà‡∏ô‡∏ã‡πâ‡∏≥‡∏´‡∏•‡∏≤‡∏¢‡∏£‡∏≠‡∏ö ‡πÄ‡∏Å‡πá‡∏ö Best Score</li>
          <li><b>‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏Ñ‡∏¥‡∏î</b>: ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏™‡∏π‡πà‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏≠‡∏∑‡πà‡∏ô (‡πÄ‡∏ä‡πà‡∏ô ‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ä‡∏∏‡∏î/‡∏Å‡∏•‡∏≤‡∏á‡πÅ‡∏à‡πâ‡∏á)</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- QUIZ -->
  <section id="quiz" class="seg">
    <div class="card">
      <div class="q-header">
        <div class="pill">‡∏Ç‡πâ‡∏≠‡∏ó‡∏µ‡πà <b id="qIndex">1</b> / 10</div>
        <div class="pill">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏∞‡∏™‡∏°: <b id="totalScore">0</b></div>
        <div class="pill">‡∏¢‡∏≤‡∏Å: <b id="qDiff">-</b></div>
      </div>
      <div class="progress" title="‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏∑‡∏ö‡∏´‡∏ô‡πâ‡∏≤">
        <div class="bar" id="progBar"></div>
      </div>
      <div class="row" style="margin:12px 0">
        <div style="flex:1">
          <div class="timer" title="‡πÄ‡∏ß‡∏•‡∏≤‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ">
            <div class="tbar" id="tbar" style="width:100%"></div>
          </div>
        </div>
        <div class="pill">‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: <b id="timeLeft">45</b>s</div>
        <div class="pill">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏Ç‡πâ‡∏≠‡∏ô‡∏µ‡πâ: <b id="liveScore">1000</b></div>
      </div>
      <h3 id="qText">‚Äî</h3>
      <div id="opts" class="grid"></div>
      <div class="hintbox" style="margin-top:10px">
        <button class="hintbtn" id="hint1">Hint 1 üîé (-30)</button>
        <button class="hintbtn" id="hint2">Hint 2 üí° (-50)</button>
      </div>
      <div id="explain" class="explain" style="display:none;margin-top:12px"></div>
      <div id="think" class="muted" style="margin-top:8px"></div>
      <div class="row" style="margin-top:12px;justify-content:space-between">
        <button class="cta" id="nextBtn">‡∏Ç‡πâ‡∏≠‡∏ï‡πà‡∏≠‡πÑ‡∏õ ‚ûú</button>
        <div class="pill">‡πÄ‡∏û‡∏•‡∏á‡∏û‡∏∑‡πâ‡∏ô‡∏´‡∏•‡∏±‡∏á: <span id="musicState">On</span></div>
      </div>
    </div>
  </section>

  <!-- RESULT -->
  <section id="result" class="seg">
    <div class="card grid cols2">
      <div>
        <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ üíñ</h2>
        <p class="badge"><span class="stars" id="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span> <b id="badgeText">Legendary EV Hero</b></p>
        <h3 style="margin-top:8px">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏£‡∏ß‡∏°: <span style="color:var(--acc)" id="finalScore">0</span></h3>
        <p class="muted">Best Score ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì: <b id="bestOut">0</b> | ‡πÄ‡∏•‡πà‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î: <b id="playedOut">0</b></p>
        <div class="row" style="margin-top:10px">
          <button class="cta" id="playAgain">‡πÄ‡∏•‡πà‡∏ô‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏™‡∏±‡∏Å‡∏£‡∏≠‡∏ö üí´</button>
          <button class="cta" data-tabgo="review">‡∏î‡∏π‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö/‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏• üìö</button>
        </div>
      </div>
      <div>
        <h3>‡∏Ç‡πâ‡∏≠‡πÄ‡∏™‡∏ô‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡πà‡∏≤‡∏£‡∏±‡∏Å‡∏à‡∏≤‡∏Å AI</h3>
        <ul id="tips"></ul>
      </div>
    </div>
  </section>

  <!-- REVIEW -->
  <section id="review" class="seg">
    <div class="card">
      <h2>‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î üìñ</h2>
      <div id="reviewList" class="grid"></div>
    </div>
  </section>

  <p class="footer">‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á: MEA MPESTD-001:2563, ‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î MEA 2560 (EV Load), IEC 61851/62196/62423/62955 | ‡πÇ‡∏´‡∏°‡∏î 3 | ‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢ IEC 01 (THW) ‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á</p>
</main>

<script>
// ====== Utility beloved helpers ======
const $ = sel => document.querySelector(sel);
const $$ = sel => Array.from(document.querySelectorAll(sel));
const fmt = n => Math.round(n).toLocaleString('th-TH');

// LocalStorage keys
const LS = { best:'aiqm_best', played:'aiqm_played' };
const getBest = () => +(localStorage.getItem(LS.best)||0);
const setBest = v => localStorage.setItem(LS.best, String(v));
const getPlayed = () => +(localStorage.getItem(LS.played)||0);
const incPlayed = () => localStorage.setItem(LS.played, String(getPlayed()+1));

// ====== Simple Confetti ======
const confetti = (()=>{
  const c = document.getElementById('confetti');
  const ctx = c.getContext('2d');
  let w,h,parts=[]; const colors=['#7ee6d5','#ff8bd7','#ffe46b','#38ef7d','#6b9fff'];
  function resize(){ w= c.width = innerWidth; h= c.height = innerHeight; }
  function spawn(n=180){
    parts=[];
    for(let i=0;i<n;i++){
      parts.push({x:Math.random()*w, y:-20 - Math.random()*h, r: 4+Math.random()*6,
        col: colors[Math.floor(Math.random()*colors.length)], vy:2+Math.random()*3, vx:(Math.random()-.5)*2, rot:Math.random()*360 })
    }
  }
  function draw(){ ctx.clearRect(0,0,w,h);
    parts.forEach(p=>{ p.y+=p.vy; p.x+=p.vx; p.rot+=p.vy; if(p.y>h+10) p.y=-10; ctx.save(); ctx.translate(p.x,p.y); ctx.rotate(p.rot*Math.PI/180);
      ctx.fillStyle=p.col; ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r); ctx.restore();
    }); requestAnimationFrame(draw); }
  resize(); addEventListener('resize',resize); draw();
  return { burst: ()=> spawn(220) }
})();

// ====== WebAudio: background music + sfx ======
let audioCtx; let bg={ playing:false, tempo:120, t:0, seqIndex:0, intervalId:null };
function initAudio(){ if(audioCtx) return; audioCtx = new (window.AudioContext||window.webkitAudioContext)(); startBG(); }
function tone(freq, dur=0.12, type='sine', gain=0.05){ if(!audioCtx) return; const o=audioCtx.createOscillator(); const g=audioCtx.createGain();
  o.type=type; o.frequency.value=freq; o.connect(g); g.connect(audioCtx.destination); g.gain.value=gain; o.start(); o.stop(audioCtx.currentTime+dur);
}
function sfxCorrect(){ tone(880, .12,'triangle',.08); setTimeout(()=>tone(1320,.14,'triangle',.07),100); navigator.vibrate?.(80); }
function sfxWrong(){ tone(220,.25,'sawtooth',.06); setTimeout(()=>tone(180,.3,'sawtooth',.05),180); navigator.vibrate?.([40,40,80]); }
function startBG(){ if(!audioCtx) return; if(bg.playing) return; bg.playing=true; const scale=[261.6,293.7,329.6,392.0,523.3];
  bg.intervalId = setInterval(()=>{ const step = scale[bg.seqIndex%scale.length]; const t = (document.getElementById('timeLeft')?.textContent|0)||45;
    const tempo = t<=15? 180 : 120; if(bg.tempo!==tempo){ bg.tempo=tempo; clearInterval(bg.intervalId); bg.playing=false; startBG(); return; }
    tone(step, .09, 'square', .02); bg.seqIndex++; }, 60000/bg.tempo);
}
function stopBG(){ if(bg.intervalId){ clearInterval(bg.intervalId); bg.intervalId=null; } bg.playing=false; }

// ====== Question Bank (TH) ======
/*
  Each item: {id,difficulty, stem, choices:[{text,correct,why}], hints:[h1,h2], think}
  Standards referenced from MEA MPESTD-001:2563 & MEA 2560 EV Load docs, and IEC refs. Cable table: IEC 01 (THW) in conduit on wall.
*/
const BANK=[
  { id:1, difficulty:'Easy', stem:'‡∏ß‡∏á‡∏à‡∏£‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢‡πÑ‡∏ü‡πÉ‡∏´‡πâ EVSE (‡πÇ‡∏´‡∏°‡∏î 3) ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÉ‡∏î‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô?',
    choices:[
      {text:'RCD Type B ‚â§ 30 mA ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô',correct:true,why:'‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÉ‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÉ‡∏´‡πâ‡∏°‡∏µ RCD Type B (‡∏´‡∏£‡∏∑‡∏≠ A/F + RDC-DD ‚â•6 mA) ‡πÅ‡∏•‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô‡∏Ñ‡∏£‡∏ö‡∏ñ‡πâ‡∏ß‡∏ô ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ.'},
      {text:'‡πÄ‡∏â‡∏û‡∏≤‡∏∞ MCB ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏û‡∏≠',correct:false,why:'MCB ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏Å‡∏¥‡∏ô ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏ß‡∏à‡∏à‡∏±‡∏ö‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏£‡∏±‡πà‡∏ß‡∏•‡∏á‡∏î‡∏¥‡∏ô.'},
      {text:'RCD Type A ‡πÉ‡∏™‡πà‡πÑ‡∏ß‡πâ‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô‡∏£‡∏ß‡∏°‡∏ó‡∏∏‡∏Å‡∏ß‡∏á‡∏à‡∏£',correct:false,why:'‡∏´‡πâ‡∏≤‡∏°‡πÉ‡∏´‡πâ RCD Type B ‡∏≠‡∏¢‡∏π‡πà‡∏†‡∏≤‡∏¢‡πÉ‡∏ï‡πâ‡∏ß‡∏á‡∏à‡∏£‡∏ó‡∏µ‡πà‡∏°‡∏µ RCD ‡∏≠‡∏∑‡πà‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏°‡∏ô ‡πÅ‡∏•‡∏∞ Type A ‡∏≠‡∏≤‡∏à‡πÑ‡∏°‡πà‡∏Ñ‡∏£‡∏≠‡∏ö‡∏Ñ‡∏•‡∏∏‡∏° d.c. fault.'},
      {text:'‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏≠‡∏∞‡πÑ‡∏£ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞ EVSE ‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÄ‡∏≠‡∏á',correct:false,why:'‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏±‡∏î‡∏ß‡πà‡∏≤ ‚Äú‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‚Äù ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô.'}
    ],
    hints:['‡πÇ‡∏´‡∏°‡∏î 3 ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏ö‡∏∏‡∏Ñ‡∏Ñ‡∏•‡∏Ñ‡∏£‡∏ö','Type B ‡∏´‡∏£‡∏∑‡∏≠ A/F+RDC-DD'],
    think:'‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡πÇ‡∏´‡∏°‡∏î 2 ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ß‡∏≤‡∏á RCD ‡∏ó‡∏µ‡πà‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÉ‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•?' },

  { id:2, difficulty:'Easy', stem:'‡∏Ñ‡∏ß‡∏≤‡∏°‡∏¢‡∏≤‡∏ß‡∏™‡∏≤‡∏¢‡∏Ç‡∏≤‡∏≠‡∏≠‡∏Å‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏∏‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (‡πÇ‡∏´‡∏°‡∏î 3) ‚Äú‡∏Ñ‡∏ß‡∏£‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô‚Äù ‡πÄ‡∏ó‡πà‡∏≤‡πÉ‡∏î?',
    choices:[
      {text:'7.5 ‡πÄ‡∏°‡∏ï‡∏£', correct:true, why:'‡∏Ç‡πâ‡∏≠‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô ~7.5 m ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏•‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ó‡∏≤‡∏á‡∏Å‡∏•.'},
      {text:'15 ‡πÄ‡∏°‡∏ï‡∏£', correct:false, why:'‡∏¢‡∏≤‡∏ß‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Å‡∏≤‡∏£‡∏û‡∏±‡∏ô‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡πÅ‡∏£‡∏á‡∏î‡∏∂‡∏á.'},
      {text:'3 ‡πÄ‡∏°‡∏ï‡∏£', correct:false, why:'‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡πà‡∏≤‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏∏ ‡∏°‡∏±‡∏Å‡∏™‡∏±‡πâ‡∏ô‡πÑ‡∏õ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏à‡∏£‡∏¥‡∏á.'},
      {text:'10 ‡πÄ‡∏°‡∏ï‡∏£', correct:false, why:'‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏ä‡∏µ‡πâ‡πÑ‡∏ß‡πâ.'}
    ], hints:['‡∏î‡∏π‡∏†‡∏≤‡∏Ñ‡∏ú‡∏ô‡∏ß‡∏Å‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå','‡πÄ‡∏•‡∏Ç‡∏°‡∏µ .5'], think:'‡∏ñ‡πâ‡∏≤‡πÑ‡∏ã‡∏ï‡πå‡∏á‡∏≤‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏¢‡∏≤‡∏ß‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡∏à‡∏∏‡∏î‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?' },

  { id:3, difficulty:'Easy', stem:'‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÄ‡∏ï‡πâ‡∏≤‡∏£‡∏±‡∏ö/‡∏û‡∏≠‡∏£‡πå‡∏ï (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ) ‡∏Ñ‡∏ß‡∏£‡∏™‡∏π‡∏á‡∏à‡∏≤‡∏Å‡∏û‡∏∑‡πâ‡∏ô‡∏ú‡∏¥‡∏ß‡∏à‡∏≠‡∏î‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì?',
    choices:[
      {text:'‚â• 0.75 m ‡πÅ‡∏ï‡πà‡πÑ‡∏°‡πà‡πÄ‡∏Å‡∏¥‡∏ô 1.2 m', correct:true, why:'‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏π‡∏á‡∏ô‡∏µ‡πâ‡∏ä‡πà‡∏ß‡∏¢‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô/‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏î‡πâ‡∏™‡∏∞‡∏î‡∏ß‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢.'},
      {text:'‚â§ 0.3 m', correct:false, why:'‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏°‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏Å‡∏£‡∏∞‡πÅ‡∏ó‡∏Å.'},
      {text:'2.0 ‚Äì 2.5 m', correct:false, why:'‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏¢‡∏≤‡∏Å.'},
      {text:'‡πÑ‡∏°‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î', correct:false, why:'‡∏°‡∏µ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡πÉ‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô.'}
    ], hints:['‡∏´‡∏ô‡πà‡∏ß‡∏¢ ‚Äú‡πÄ‡∏°‡∏ï‡∏£‚Äù ‡πÅ‡∏•‡∏∞‡∏°‡∏µ‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡πà‡∏≤','‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ó‡∏µ‡πà 0.75'], think:'‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏ô‡πâ‡∏≥‡∏ó‡πà‡∏ß‡∏° ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?' },

  { id:4, difficulty:'Medium', stem:'‡∏™‡∏≤‡∏¢‡πÑ‡∏ü‡∏ß‡∏á‡∏à‡∏£‡∏¢‡πà‡∏≠‡∏¢‡∏ó‡∏µ‡πà‡∏à‡πà‡∏≤‡∏¢ EVSE ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏Ç‡πâ‡∏≤ EVSE ‡∏Ñ‡∏π‡∏ì‡∏Å‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤?',
    choices:[
      {text:'1.25 ‡πÄ‡∏ó‡πà‡∏≤', correct:true, why:'‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏£‡∏∞‡∏ö‡∏∏ 1.25√ó ‡∏Ç‡∏≠‡∏á Input current ‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏Å‡∏¥‡∏ô.'},
      {text:'1.00 ‡πÄ‡∏ó‡πà‡∏≤', correct:false, why:'‡πÑ‡∏°‡πà‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡πâ‡∏≠‡∏ô‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á.'},
      {text:'1.10 ‡πÄ‡∏ó‡πà‡∏≤', correct:false, why:'‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏ñ‡∏∂‡∏á‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î.'},
      {text:'1.5 ‡πÄ‡∏ó‡πà‡∏≤', correct:false, why:'‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡∏à‡∏≤‡∏Å‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥ (‡πÅ‡∏°‡πâ‡∏ö‡∏≤‡∏á‡∏Å‡∏£‡∏ì‡∏µ‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ).'}
    ], hints:['‡∏Ñ‡∏π‡∏ì‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏ô‡∏∑‡πà‡∏≠‡∏á','‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ 1 ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢'], think:'‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏ß‡∏°‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏Å‡∏≤‡∏£‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á (derating) ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£?' },

  { id:5, difficulty:'Medium', stem:'‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ç‡∏ô‡∏≤‡∏î‡∏™‡∏≤‡∏¢ IEC 01 (THW) ‡πÄ‡∏î‡∏¥‡∏ô ‚Äú‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á‚Äù 1 ‡πÄ‡∏ü‡∏™, ‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö 28 A (‡∏´‡∏•‡∏±‡∏á‡∏Ñ‡∏π‡∏ì 1.25 ‡πÅ‡∏•‡πâ‡∏ß) ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏î‡∏Ç‡∏±‡πâ‡∏ô‡∏ï‡πà‡∏≥‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?',
    choices:[
      {text:'4 ‡∏ï‡∏£.‡∏°‡∏°. (‡∏û‡∏¥‡∏Å‡∏±‡∏î ~28 A)', correct:true, why:'‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà 2 ‡πÅ‡∏ö‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á 4 ‡∏ï‡∏£.‡∏°‡∏°. ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ ~28 A.* ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡∏ã‡πâ‡∏≠‡∏ô/‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏î‡πâ‡∏ß‡∏¢'},
      {text:'2.5 ‡∏ï‡∏£.‡∏°‡∏°. (21 A)', correct:false, why:'‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö 28 A'},
      {text:'6 ‡∏ï‡∏£.‡∏°‡∏°. (36 A)', correct:false, why:'‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡πÅ‡∏ï‡πà‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡πÇ‡∏à‡∏ó‡∏¢‡πå (‡∏™‡∏¥‡πâ‡∏ô‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏á) ‡∏´‡∏≤‡∏Å‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏û‡∏¥‡πÄ‡∏®‡∏©'},
      {text:'1.5 ‡∏ï‡∏£.‡∏°‡∏°. (15 A)', correct:false, why:'‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏°‡∏≤‡∏Å ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏£‡πâ‡∏≠‡∏ô‡πÄ‡∏Å‡∏¥‡∏ô'}
    ], hints:['‡∏î‡∏π ‚Äú‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ó‡∏µ‡πà 5-20‚Äù ‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏ó‡∏µ‡πà 2','‡∏î‡∏π‡∏Ñ‡πà‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™ 4 ‡∏ï‡∏£.‡∏°‡∏°.'], think:'‡∏ñ‡πâ‡∏≤‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£‡∏Ñ‡∏π‡πà‡∏Ç‡∏ô‡∏≤‡∏ô‡∏ö‡∏ô‡∏ú‡∏ô‡∏±‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Ñ‡∏π‡∏ì‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏•‡∏î‡∏ó‡∏≠‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?' },

  { id:6, difficulty:'Medium', stem:'‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏™‡∏≤‡∏¢‡∏î‡∏¥‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö EVSE ‡∏ó‡∏µ‡πà‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≥‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏Ñ‡∏ß‡∏£‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏ö‡∏ö‡πÉ‡∏î‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏´‡∏•‡∏±‡∏Å?',
    choices:[
      {text:'TT (‡∏´‡∏•‡∏±‡∏Å‡∏î‡∏¥‡∏ô‡∏≠‡∏¥‡∏™‡∏£‡∏∞‡πÅ‡∏¢‡∏Å‡∏à‡∏≤‡∏Å‡∏ô‡∏¥‡∏ß‡∏ó‡∏£‡∏±‡∏•)', correct:true, why:'‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£ MEA ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ TT System ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡πÑ‡∏ü‡πÅ‡∏£‡∏á‡∏ï‡πà‡∏≥‡∏à‡∏≤‡∏Å‡∏Å‡∏≤‡∏£‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏´‡∏•‡∏±‡∏Å‡∏î‡∏¥‡∏ô ‚â• 2.0 m.'},
      {text:'TN-S', correct:false, why:'TN-S ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡∏Å‡∏£‡∏ì‡∏µ‡∏°‡∏µ‡∏´‡∏°‡πâ‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏Ç‡∏≠‡∏á‡∏ï‡∏ô‡πÄ‡∏≠‡∏á‡∏ö‡πà‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤'},
      {text:'TN-C ‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô', correct:false, why:'TN-C ‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö EVSE (‡∏õ‡∏£‡∏∞‡πÄ‡∏î‡πá‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢).'},
      {text:'IT', correct:false, why:'‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ö‡∏£‡∏¥‡∏ö‡∏ó‡∏ô‡∏µ‡πâ'}
    ], hints:['‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏¥‡∏ô‡πÅ‡∏¢‡∏Å‡∏≠‡∏¥‡∏™‡∏£‡∏∞','‡∏ä‡∏∑‡πà‡∏≠‡∏Ç‡∏∂‡πâ‡∏ô‡∏ï‡πâ‡∏ô‡∏î‡πâ‡∏ß‡∏¢ T ‡∏™‡∏≠‡∏á‡∏ï‡∏±‡∏ß'], think:'‡∏Å‡∏£‡∏ì‡∏µ‡πÉ‡∏ä‡πâ TN-C-S ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏≠‡∏∞‡πÑ‡∏£?' },

  { id:7, difficulty:'Medium', stem:'‡∏Ñ‡πà‡∏≤ Demand factor ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏´‡∏•‡∏î EVSE ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏™‡∏≤‡∏¢‡πÄ‡∏°‡∏ô‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡πÑ‡∏ß‡πâ‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?',
    choices:[
      {text:'1.0', correct:true, why:'‡πÇ‡∏´‡∏•‡∏î EVSE ‡πÉ‡∏´‡πâ‡πÉ‡∏ä‡πâ Demand factor = 1 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö'},
      {text:'0.8', correct:false, why:'‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏≠‡∏ô‡∏∏‡πÇ‡∏•‡∏°‡πÅ‡∏ö‡∏ö‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î'},
      {text:'1.25', correct:false, why:'1.25 ‡∏Ñ‡∏∑‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏™‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£‡∏¢‡πà‡∏≠‡∏¢ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà Demand factor'},
      {text:'‡∏Ç‡∏∂‡πâ‡∏ô‡∏Å‡∏±‡∏ö‡∏ú‡∏π‡πâ‡∏ú‡∏•‡∏¥‡∏ï', correct:false, why:'‡∏≠‡πâ‡∏≤‡∏á‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏•‡∏±‡∏Å'}
    ], hints:['‡πÑ‡∏°‡πà‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏™‡πà‡∏ß‡∏ô‡∏•‡∏î‡πÉ‡∏î‡πÜ','‡πÄ‡∏ó‡πà‡∏≤‡∏Å‡∏±‡∏ö‡∏´‡∏ô‡∏∂‡πà‡∏á'], think:'‡πÉ‡∏ô‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ä‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏°‡∏µ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏ß‡∏°‡∏°‡∏≤‡∏Å ‡∏à‡∏∞‡∏ö‡∏£‡∏¥‡∏´‡∏≤‡∏£ Demand ‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÇ‡∏î‡∏¢‡∏¢‡∏±‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢?' },

  { id:8, difficulty:'Hard', stem:'‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏à‡∏£‡∏¥‡∏á (I) ‡∏Ç‡∏≠‡∏á EV Wall Charger 1 ‡πÄ‡∏ü‡∏™ 7.4 kW, V=230 V, PF=1.0 ‡∏à‡∏≤‡∏Å‡∏ô‡∏±‡πâ‡∏ô‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏° (‡πÅ‡∏ô‡∏ß‡∏Ñ‡∏¥‡∏î).',
    choices:[
      {text:'I ‚âà 32.2 A; ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ö‡∏£‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå ~32‚Äì40 A ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏±‡∏î‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏° 1.25√ó', correct:true, why:'I = P / (V√óPF) = 7400 / (230√ó1) ‚âà 32.17 A ‚Üí ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏™‡∏≤‡∏¢‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏±‡∏ô'},
      {text:'I ‚âà 16 A; MCB 16 A ‡∏û‡∏≠', correct:false, why:'16 A ‡∏ï‡πà‡∏≥‡∏Å‡∏ß‡πà‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏à‡∏£‡∏¥‡∏á‡∏°‡∏≤‡∏Å'},
      {text:'I ‚âà 25 A; MCB 25 A', correct:false, why:'‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á'},
      {text:'I ‚âà 40 A; MCB 63 A', correct:false, why:'63 A ‡πÄ‡∏Å‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡∏™‡∏±‡∏°‡∏û‡∏±‡∏ô‡∏ò‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢'}
    ], hints:['I = P / (V√óPF)','PF = 1 ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö EVSE AC'], think:'‡∏ñ‡πâ‡∏≤ PF<1 ‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡πâ‡∏≤‡∏á‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå?' },

  { id:9, difficulty:'Hard', stem:'‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TN-C-S ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏£‡∏¥‡∏° ‡∏Ç‡πâ‡∏≠‡πÉ‡∏î ‚Äú‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‚Äù ‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏°‡∏≤‡∏ï‡∏£‡∏Å‡∏≤‡∏£?',
    choices:[
      {text:'‡∏°‡∏µ‡∏≠‡∏∏‡∏õ‡∏Å‡∏£‡∏ì‡πå‡∏õ‡∏•‡∏î‡∏ß‡∏á‡∏à‡∏£‡πÄ‡∏°‡∏∑‡πà‡∏≠ Touch Voltage > 70 V ‡∏†‡∏≤‡∏¢‡πÉ‡∏ô 5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ (‡∏ï‡∏±‡∏î‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏ß‡∏° N/PE)', correct:true, why:'‡πÄ‡∏õ‡πá‡∏ô‡∏´‡∏ô‡∏∂‡πà‡∏á‡πÉ‡∏ô‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏∏‡πÑ‡∏ß‡πâ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö TN-C-S'},
      {text:'‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ RCD', correct:false, why:'RCD ‡∏¢‡∏±‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏û‡∏∑‡πâ‡∏ô‡∏ê‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö EVSE'},
      {text:'‡πÉ‡∏´‡πâ‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡∏î‡∏¥‡∏ô‡∏™‡∏π‡∏á‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£‡∏Å‡πá‡πÑ‡∏î‡πâ', correct:false, why:'‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏ô‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£'},
      {text:'‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏™‡∏ô‡πÉ‡∏à‡∏Å‡∏≤‡∏£‡∏™‡∏°‡∏î‡∏∏‡∏•‡πÇ‡∏´‡∏•‡∏î 3 ‡πÄ‡∏ü‡∏™', correct:false, why:'‡∏Å‡∏£‡∏ì‡∏µ‡∏ö‡∏≤‡∏á‡πÅ‡∏ö‡∏ö‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏°‡∏î‡∏∏‡∏•‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏ü‡∏™‡∏î‡πâ‡∏ß‡∏¢'}
    ], hints:['‡∏°‡∏≠‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú70 V‚Äù ‡πÅ‡∏•‡∏∞ ‚Äú5 s‚Äù','‡∏ï‡∏±‡∏î‡∏ó‡∏∏‡∏Å‡πÄ‡∏™‡πâ‡∏ô‡∏£‡∏ß‡∏° N'], think:'‡∏Ñ‡∏∏‡∏ì‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏†‡∏≤‡∏û‡∏™‡∏≤‡∏¢‡∏ô‡∏¥‡∏ß‡∏ó‡∏£‡∏±‡∏•/‡∏Å‡∏≤‡∏£‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏´‡πâ‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏ñ‡∏∑‡∏≠‡πÑ‡∏î‡πâ?' },

  { id:10, difficulty:'Hard', stem:'‡∏Å‡∏£‡∏ì‡∏µ‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢ ‚Äú‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á‚Äù ‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£‡πÉ‡∏Å‡∏•‡πâ‡∏Å‡∏±‡∏ô ‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏•‡∏î‡∏ó‡∏≠‡∏ô‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ß‡∏á‡∏à‡∏£ ‡πÄ‡∏ä‡πà‡∏ô 3 ‡∏ß‡∏á‡∏à‡∏£‡∏°‡∏µ‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏£?',
    choices:[
      {text:'0.79', correct:true, why:'‡∏ï‡∏≤‡∏°‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡∏Ñ‡∏π‡∏ì‡∏•‡∏î‡∏ó‡∏≠‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á 3 ‡∏ß‡∏á‡∏à‡∏£ ‚âà 0.79'},
      {text:'1.00', correct:false, why:'‡πÑ‡∏°‡πà‡∏•‡∏î‡∏ó‡∏≠‡∏ô‡πÄ‡∏•‡∏¢ ‡πÑ‡∏°‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡∏≤‡∏°‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô'},
      {text:'0.50', correct:false, why:'‡∏ï‡πà‡∏≥‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3 ‡∏ß‡∏á‡∏à‡∏£'},
      {text:'0.92', correct:false, why:'‡∏Ñ‡πà‡∏≤‡∏ô‡∏µ‡πâ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö 3 ‡∏ß‡∏á‡∏à‡∏£'}
    ], hints:['‡∏Ñ‡πà‡∏≤‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤ 0.8 ‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢','‡∏î‡∏π‡∏ï‡∏≤‡∏£‡∏≤‡∏á derating'], think:'‡∏à‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏Å‡∏•‡∏∏‡πà‡∏°‡∏™‡∏≤‡∏¢/‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÑ‡∏£‡πÉ‡∏´‡πâ‡∏ú‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£?' },

  // extra pool to allow Mix randomness
  { id:11, difficulty:'Medium', stem:'‡∏ï‡∏¥‡∏î‡∏ï‡∏±‡πâ‡∏á‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£ ‡∏Å‡∏≤‡∏£‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡∏ß‡∏á‡∏à‡∏£‡∏¢‡πà‡∏≠‡∏¢‡∏Ç‡∏≠‡∏á EVSE ‡∏Ñ‡∏ß‡∏£‡πÉ‡∏ä‡πâ‡∏ß‡∏¥‡∏ò‡∏µ‡πÉ‡∏î?',
    choices:[
      {text:'‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡∏ù‡∏±‡∏á‡∏î‡∏¥‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡πâ‡∏≠‡∏¢‡∏ó‡πà‡∏≠‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á', correct:true, why:'‡πÄ‡∏≠‡∏Å‡∏™‡∏≤‡∏£‡∏£‡∏∞‡∏ö‡∏∏‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏†‡∏≤‡∏¢‡∏ô‡∏≠‡∏Å‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£'},
      {text:'‡πÄ‡∏î‡∏¥‡∏ô‡∏•‡∏≠‡∏¢‡∏ö‡∏ô‡∏£‡∏≤‡∏á‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏õ‡∏¥‡∏î‡∏ù‡∏≤', correct:false, why:'‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡∏¢‡∏´‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡πÑ‡∏õ‡∏ï‡∏≤‡∏°‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥'},
      {text:'‡πÉ‡∏ä‡πâ‡∏õ‡∏•‡∏±‡πä‡∏Å‡∏û‡πà‡∏ß‡∏á‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß', correct:false, why:'‡∏ú‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢'},
      {text:'‡πÄ‡∏î‡∏¥‡∏ô‡∏™‡∏≤‡∏¢‡πÄ‡∏õ‡∏•‡∏∑‡∏≠‡∏¢', correct:false, why:'‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡∏ú‡∏¥‡∏î‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô'}
    ], hints:['‡∏°‡∏µ‡∏™‡∏≠‡∏á‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà‡∏¢‡∏≠‡∏°‡∏£‡∏±‡∏ö','‡∏ó‡∏±‡πâ‡∏á‡∏Ñ‡∏≥‡∏ß‡πà‡∏≤ ‚Äú‡∏ù‡∏±‡∏á‡∏î‡∏¥‡∏ô/‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á‚Äù'], think:'‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏Å‡∏±‡∏î‡∏Å‡∏£‡πà‡∏≠‡∏ô‡∏™‡∏π‡∏á‡∏à‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏™‡∏î‡∏∏‡∏ó‡πà‡∏≠‡πÅ‡∏ö‡∏ö‡πÉ‡∏î?' },

  { id:12, difficulty:'Easy', stem:'‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå/‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏ö‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏≠‡∏±‡∏î‡∏õ‡∏£‡∏∞‡∏à‡∏∏‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡∏Ñ‡∏∑‡∏≠?',
    choices:[
      {text:'‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤‡∏ä‡πá‡∏≠‡∏Å (‡∏û‡∏∑‡πâ‡∏ô‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á ‡∏ï‡∏±‡∏ß‡∏≠‡∏±‡∏Å‡∏©‡∏£‡∏î‡∏≥)', correct:true, why:'‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡πÉ‡∏´‡πâ‡∏ú‡∏π‡πâ‡πÉ‡∏ä‡πâ‡∏™‡∏±‡∏á‡πÄ‡∏Å‡∏ï‡πÑ‡∏î‡πâ‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô'},
      {text:'‡∏™‡∏ï‡∏¥‡∏Å‡πÄ‡∏Å‡∏≠‡∏£‡πå‡∏Å‡∏≤‡∏£‡πå‡∏ï‡∏π‡∏ô‡πÄ‡∏ó‡πà‡∏≤‡∏ô‡∏±‡πâ‡∏ô', correct:false, why:'‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡πÅ‡∏•‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πá‡∏ô‡∏°‡∏≤‡∏ï‡∏£‡∏ê‡∏≤‡∏ô'},
      {text:'‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏•‡πâ‡∏ß‡∏ô', correct:false, why:'‡∏™‡∏µ‡πÑ‡∏°‡πà‡∏ï‡∏£‡∏á‡∏ï‡∏≤‡∏°‡∏Ç‡πâ‡∏≠‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢‡πÑ‡∏ü‡∏ü‡πâ‡∏≤'},
      {text:'‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡πÉ‡∏î‡πÜ', correct:false, why:'‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢'}
    ], hints:['‡∏û‡∏∑‡πâ‡∏ô ‚Äú‡∏™‡∏µ‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏á‚Äù','‡πÄ‡∏Å‡∏µ‡πà‡∏¢‡∏ß‡∏Å‡∏±‡∏ö Electric Shock'], think:'‡∏ñ‡πâ‡∏≤‡πÄ‡∏õ‡πá‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏ò‡∏≤‡∏£‡∏ì‡∏∞‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏¥‡∏î‡∏õ‡πâ‡∏≤‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏∞‡πÑ‡∏£‡∏ö‡πâ‡∏≤‡∏á?' }
];

// ====== Quiz Engine ======
const ROUND_LEN = 10; const TIME_PER_Q = 45; const MAX_PER_Q = 1000; // decay with time
let state = { deck:[], index:0, timer:null, timeLeft:TIME_PER_Q, liveScore:MAX_PER_Q, total:0, used:[], review:[], difficulty:'Mix' };

function selectDeck(diff){
  const pool = diff==='Mix'? BANK : BANK.filter(q=>q.difficulty===diff);
  const shuffled=[...pool].sort(()=>Math.random()-.5).slice(0, ROUND_LEN);
  return shuffled;
}

function renderHomeStats(){ $('#playedCount').textContent = fmt(getPlayed()); $('#bestScore').textContent = fmt(getBest()); }

function go(tab){ $$('.seg').forEach(s=>s.classList.remove('active')); $('#'+tab).classList.add('active'); $$('.tabbtn').forEach(b=>{ b.classList.toggle('active', b.dataset.tab===tab); }); }

function startRound(){ initAudio();
  state.difficulty = $('#difficulty').value; state.deck = selectDeck(state.difficulty); state.index=0; state.total=0; state.review=[];
  go('quiz'); nextQuestion(); }

function updateBars(){ $('#qIndex').textContent = state.index+1; $('#qDiff').textContent = state.deck[state.index].difficulty; $('#totalScore').textContent = fmt(state.total);
  const pct = ((state.index)/ROUND_LEN)*100; $('#progBar').style.width = pct+'%'; }

function startTimer(){ clearInterval(state.timer); state.timeLeft = TIME_PER_Q; state.liveScore = MAX_PER_Q; $('#timeLeft').textContent = TIME_PER_Q; $('#liveScore').textContent = MAX_PER_Q; $('#explain').style.display='none'; $('#think').textContent='';
  state.timer = setInterval(()=>{ state.timeLeft--; const ratio = state.timeLeft/TIME_PER_Q; $('#tbar').style.width = (ratio*100)+'%'; $('#timeLeft').textContent = state.timeLeft;
    // linear decay
    state.liveScore = Math.max(200, Math.round(200 + 800*(state.timeLeft/TIME_PER_Q))); $('#liveScore').textContent = state.liveScore;
    if(state.timeLeft<=0){ clearInterval(state.timer); lockOptions(); showExplain(null,true); sfxWrong(); setTimeout(()=> nextStep(), 900); }
  },1000);
}

function renderQuestion(){ const q = state.deck[state.index]; $('#qText').textContent = q.stem; const opts = $('#opts'); opts.innerHTML=''; q.choices.forEach((c,i)=>{
    const div=document.createElement('div'); div.className='opt'; div.innerHTML = `<div class="pill">${String.fromCharCode(65+i)}</div><div><div>${c.text}</div><div class="muted" style="font-size:.9rem">&nbsp;</div></div>`;
    div.addEventListener('click',()=> choose(i)); opts.appendChild(div);
  });
  $('#hint1').disabled=false; $('#hint2').disabled=false;
  $('#explain').style.display='none'; $('#think').textContent='';
}

function choose(i){ const q = state.deck[state.index]; const picked = q.choices[i]; lockOptions(); const options = $$('#opts .opt');
  options.forEach((el,idx)=>{ const c=q.choices[idx]; el.classList.add(c.correct?'correct': (idx===i?'wrong':'')); el.querySelector('.muted').textContent = c.why; });
  const correct = !!picked?.correct; if(correct){ state.total += state.liveScore; sfxCorrect(); } else { sfxWrong(); }
  showExplain(picked, false);
}

function lockOptions(){ $$('#opts .opt').forEach(el=> el.style.pointerEvents='none'); clearInterval(state.timer); }

function showExplain(picked, timeup){ const q=state.deck[state.index]; const box=$('#explain'); box.style.display='block';
  const correctIndex = q.choices.findIndex(c=>c.correct);
  const label = timeup? '‡∏´‡∏°‡∏î‡πÄ‡∏ß‡∏•‡∏≤ ‚è≥' : (picked?.correct?'‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á üíö':'‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡πä‡∏∞ üí´');
  box.innerHTML = `<b>${label}</b><br>‡πÄ‡∏â‡∏•‡∏¢: <b>${String.fromCharCode(65+correctIndex)}</b> ‚Äî ${q.choices[correctIndex].text}<br><br>
    <u>‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ (‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•‡∏ó‡∏∏‡∏Å‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏∑‡∏≠‡∏Å)</u>:<br>‚Ä¢ A) ${q.choices[0].why}<br>‚Ä¢ B) ${q.choices[1].why}<br>‚Ä¢ C) ${q.choices[2].why}<br>‚Ä¢ D) ${q.choices[3].why}`;
  $('#think').textContent = '‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î: '+ q.think;
}

function nextStep(){ if(state.index < ROUND_LEN-1){ state.index++; nextQuestion(); } else { finishRound(); } }
function nextQuestion(){ updateBars(); renderQuestion(); startTimer(); }

function finishRound(){ go('result'); const final=state.total; const best=getBest(); if(final>best){ setBest(final); }
  incPlayed(); $('#finalScore').textContent = fmt(final); $('#bestOut').textContent = fmt(getBest()); $('#playedOut').textContent = fmt(getPlayed());
  // badge + confetti
  let badge='Legendary EV Hero', stars='‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ'; if(final<6000){ badge='Bronze Spark'; stars='‚òÖ‚òÖ‚òÜ‚òÜ‚òÜ'; } if(final<4000){ badge='Starter Bud'; stars='‚òÖ‚òÜ‚òÜ‚òÜ‚òÜ'; } if(final>=8000){ confetti.burst(); }
  $('#badgeText').textContent = badge; $('#stars').textContent = stars;
  // simple tips
  const tips=$('#tips'); tips.innerHTML=''; const rec=[
    '‡∏ù‡∏∂‡∏Å‡∏Ñ‡∏¥‡∏î I = P/(V√óPF) ‡πÄ‡∏™‡∏°‡∏≠ ‡πÅ‡∏•‡∏∞‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏™‡∏≤‡∏¢‡∏ï‡∏≤‡∏° 1.25√ó ‡∏Ç‡∏≠‡∏á‡∏Å‡∏£‡∏∞‡πÅ‡∏™‡πÄ‡∏Ç‡πâ‡∏≤',
    '‡∏ó‡∏ö‡∏ó‡∏ß‡∏ô RCD Type B ‡πÅ‡∏•‡∏∞‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç RDC-DD 6 mA',
    '‡∏à‡∏≥‡∏Ñ‡πà‡∏≤ 7.5 m ‡πÅ‡∏•‡∏∞ 0.75‚Äì1.2 m ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏≤‡∏¢/‡πÄ‡∏ï‡πâ‡∏≤‡∏£‡∏±‡∏ö',
    '‡∏ó‡πà‡∏≠‡∏á Derating ‡πÄ‡∏î‡∏¥‡∏ô‡πÄ‡∏Å‡∏≤‡∏∞‡∏ú‡∏ô‡∏±‡∏á: 3 ‡∏ß‡∏á‡∏à‡∏£ ‚âà 0.79',
  ]; rec.forEach(t=>{ const li=document.createElement('li'); li.textContent=t; tips.appendChild(li); });
  // build review
  buildReview(); }

function buildReview(){ const box=$('#reviewList'); box.innerHTML=''; state.deck.forEach((q,idx)=>{
  const chosen = document.querySelectorAll('#opts .opt');
  const item=document.createElement('div'); item.className='card';
  const correctIndex=q.choices.findIndex(c=>c.correct);
  item.innerHTML = `<div class="pill">‡∏Ç‡πâ‡∏≠ ${idx+1} ‚Ä¢ ${q.difficulty}</div><h4 style="margin:8px 0">${q.stem}</h4>
  <ul style="margin:0 0 8px 0;padding-left:18px">${q.choices.map((c,i)=>`<li ${i===correctIndex? 'style="color:var(--acc)"' : ''}><b>${String.fromCharCode(65+i)})</b> ${c.text}</li>`).join('')}</ul>
  <div class="muted">‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•: ${q.choices.map((c,i)=> `${String.fromCharCode(65+i)}: ${c.why}`).join(' | ')}</div>
  <div class="muted" style="margin-top:6px">‡∏ä‡∏ß‡∏ô‡∏Ñ‡∏¥‡∏î: ${q.think}</div>`;
  box.appendChild(item);
  }); }

// ====== Events ======
$('#startBtn').addEventListener('click',()=>{ startRound(); });
$('#playAgain').addEventListener('click',()=>{ startRound(); });
$('[data-tabgo="review"]').addEventListener('click',()=> go('review'));
$('#nextBtn').addEventListener('click',()=> nextStep());
$('#hint1').addEventListener('click',()=> useHint(1));
$('#hint2').addEventListener('click',()=> useHint(2));

$$('.tabbtn').forEach(b=> b.addEventListener('click',()=> go(b.dataset.tab)));

function useHint(n){ const q = state.deck[state.index]; const cost = n===1?30:50; if(!q.hints||!q.hints[n-1]) return; state.total = Math.max(0, state.total - cost); $('#totalScore').textContent = fmt(state.total);
  const ex=$('#explain'); ex.style.display='block'; ex.innerHTML = (ex.innerHTML? ex.innerHTML+'<br>':'') + `<i>Hint ${n}</i>: ${q.hints[n-1]}`; $('#hint'+n).disabled=true; }

// Auto-start music on first interaction
addEventListener('pointerdown',()=>{ initAudio(); $('#musicState').textContent='On'; }, {once:true});

// ====== Init ======
renderHomeStats();

</script>
</body>
</html>
